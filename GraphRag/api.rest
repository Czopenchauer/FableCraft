### GraphRAG Search API - REST Client Tests
### Base URL
@baseUrl = http://127.0.0.1:8111

### Health Check
GET {{baseUrl}}/health

### Root Endpoint
GET {{baseUrl}}/

### Build Index - With Dataset ID
POST {{baseUrl}}/build_index
Content-Type: application/json

{
  "text": "Ariel is a brave knight from the northern lands. She wields a legendary sword called Frostbite and is known for her unwavering courage in battle.",
  "dataset_id": null,
  "dataset_name": "adventure",
  "ontology": null
}

### Get Pipeline Status
# Replace {dataset_id} with actual UUID from build_index response
GET {{baseUrl}}/pipeline_status/6c888ba0-cb22-5f47-897d-1f180ce4f602

### Search - Graph Completion Context Extension
POST {{baseUrl}}/search
Content-Type: application/json

{
  "query": "Tell me about Ariel",
  "query_type": "GRAPH_COMPLETION_CONTEXT_EXTENSION",
  "system_prompt": "You are a helpful assistant that provides information about the fantasy world.",
  "top_k": 5
}

### Delete Data
# Replace dataset_id and data_id with actual UUIDs
DELETE {{baseUrl}}/delete
Content-Type: application/json

{
  "dataset_id": "eaadd6ec-7885-5e37-b3c6-ea20380fab98",
  "data_id": "ba1f717d-89a8-5c0a-abc6-7aec2a2cb3a1"
}